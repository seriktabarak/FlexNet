<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FlexNet Experiment</title>

  <!-- jsPsych v7 core -->
  <script src="https://unpkg.com/jspsych@7.3.0"></script>
  <link href="https://unpkg.com/jspsych@7.3.0/css/jspsych.css" rel="stylesheet" />

  <!-- plugin -->
  <script src="https://unpkg.com/@jspsych/plugin-html-button-response@1.1.0"></script>
</head>

<body></body>

<script>
  // âœ… jsPsych v7 correct initialization
  const jsPsych = initJsPsych({
    on_finish: function () {
      jsPsych.data.get().localSave('csv', 'flexnet_demo_data.csv');
    }
  });

  const timeline = [];

  timeline.push({
    type: jsPsychHtmlButtonResponse,
    stimulus: "<h2>FlexNet</h2><p>Online cognitive flexibility test (demo)</p>",
    choices: ["Start"]
  });

  timeline.push({
    type: jsPsychHtmlButtonResponse,
    stimulus: "<p>Please choose one option:</p>",
    choices: ["Option A", "Option B"],
    data: { task: "demo_trial" }
  });

  jsPsych.run(timeline);
</script>
</html>
